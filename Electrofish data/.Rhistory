rm(list=ls())
setwd("/Users/serenadonadi/Google Drive/PLANTFISH/data_field_survey Plantfish/Analyses SD")
setwd("/Users/serenadonadi/Google Drive/Postdoc Stockholm/PLANTFISH/data_field_survey Plantfish/Analyses SD")
my<-read.table("Point_level_data32.txt",header=T)
rm(list=ls())
setwd("C:/Users/sedi0002/Google Drive/Dod ved/Electrofish data")
my<-read.table("LWD_wholewidth_SD3.txt",header=T)
head(my)
str(my)
summary(my)
# Libraries ---------------------------------------------------------------
library(ggplots2)
library(lattice)
# convert to categorical variables:
my$Catchment_number<-as.factor(my$Catchment_number)
my$Whole_width_fished<-as.factor(my$Whole_width_fished)
my$DateYYYYMMDD<-as.factor(my$DateYYYYMMDD)
AV<-aggregate(cbind(my$Altitude,my$ddlat,my$ddlong,my$LWD,my$exaktarea,my$Wetted_width,my$Site_length
,my$Site_area,my$Maxdepth,my$Av_depth,my$Water_temperature,my$Average_air_temperature
,my$SUB1,my$Site_habitat_index,my$Velocity,my$Slope_percent,my$Distance_to_sea,my$Month,my$Julian_date
,my$Abbor,my$BEcrOTOT,my$Elrit,my$GEdda,my$HarrTOT,my$Lake,my$LaxFIXTO,my$LaxOrtot,my$LaxTOT,my$Eel,my$MOrt,my$OringTOT
,my$RegnbTOT,my$ROdinTOT,my$Cottus_spp,my$Lampetra,my$Sticklebacks,my$VIX,my$VIX_klass,my$Number_of_fish_species
),list(my$River_name,my$Year,my$Catchment_number),mean)
names(AV)<-c("River_name", "Year", "Catchment_number",
"Altitude","Lat","Long","LWD","exaktarea","Wetted_width","Site_length","Site_area",
"Maxdepth","Av_depth","Water_temperature","Average_air_temperature","SUB1","Site_habitat_index",
"Velocity","Slope_percent","Distance_to_sea","Month","Julian_date","Abbor","BEcrOTOT","Elrit","GEdda",
"HarrTOT","Lake","LaxFIXTO","LaxOrtot","LaxTOT","Eel","MOrt","OringTOT","RegnbTOT","ROdinTOT","Cottus_spp",
"Lampetra","Sticklebacks","VIX","VIX_klass","Number_of_fish_species")
head(AV)
#check what happens to NAs
AV$Wetted_width
max(AV$Wetted_width)
min(AV$Wetted_width)
summary(AV)
#check with subset:
AV1<-AV[AV$River_name=="Sennan",]
AV1
# se cé un NA non calcola la media ma riporta NA. Perderei dati solo se ho piu' repliche per site AND YEAR e solo uno
# dei valori e´ NA. # controlla alla fine con summary(AV) quanti NA hai accumulato per response variable
summary(AV)
# For some of the environmental variables det finns många NAs but LWD and fish are good.
# suggest: start analyses, and see key drivers. For those you can always recover more values later
acf(AV$Year)
plot(AV$OringTOT~AV$Year, color=as.number(AV$Catchment_number))
plot(AV$OringTOT~AV$Year, color=as.numeric(AV$Catchment_number))
plot(AV$OringTOT~AV$Year, col=as.numeric(AV$Catchment_number))
warnings()
summary(AV)
plot(AV$OringTOT~AV$Year,subset=(AV$Catchment_number=="001"),
col=as.numeric(AV$River_name))
plot(AV$OringTOT~AV$Year,subset=(AV$Catchment_number=="48"),
col=as.numeric(AV$River_name))
plot(AV$OringTOT~AV$Year,subset=(AV$Catchment_number=="1"),
col=as.numeric(AV$River_name))
plot(AV$OringTOT~AV$Year,subset=(AV$River_name=="SvartOn"))
acf(AV$OringTOT,subset=(AV$River_name=="SvartOn"))
acf(AV$OringTOT,subset=(AV$Catchment_number=="1"))
acf(AV$OringTOT,subset=(AV$River_name=="SvartOn"))
acf(AV$OringTOT,subset=(AV$Catchment_number=="1"))
warnings()
